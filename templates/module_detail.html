{% extends "base.html" %}

{% block content %}
<div class="breadcrumb">
    <a href="{{ url_for('view_modules') }}">Modules</a> &gt; {{ module.name }}
</div>

<div class="page-header">
    <h1>{{ module.name }}</h1>
    <a href="{{ url_for('view_verification') }}" class="btn btn-primary">üìù G√©rer les Logiciels et OS</a>
</div>

<div class="module-info">
    {% if module.get('code') %}
    <p><strong>Code:</strong> {{ module.code }}</p>
    {% endif %}
    <p>{{ module.description }}</p>
    <p><strong>Ann√©e:</strong> {{ module.get('year', '?') }} | <strong>Semestre:</strong> {{ module.get('semester', '?') }}</p>
</div>

<h2>Syst√®mes d'Exploitation Requis</h2>
<ul>
    {% for os in module.get('os_required', []) %}
    <li>
        {{ os.name }}
        {% if os.get('note') %}<span class="note">({{ os.note }})</span>{% endif %}
    </li>
    {% endfor %}
</ul>

<h2>Logiciels Requis</h2>

{% if software %}
<div class="software-list">
    {% for soft in software %}
    <div class="software-item {% if soft.get('critical') %}critical{% endif %}">
        <div class="software-header">
            <h3>{{ soft.name }}</h3>
            {% if soft.get('critical') %}<span class="badge badge-critical">CRITIQUE</span>{% endif %}
        </div>
        
        <p><strong>Objectif:</strong> {{ soft.purpose }}</p>
        <p><strong>Cat√©gorie:</strong> {{ soft.get('category', 'N/A') }}</p>
        <p><strong>Version:</strong> {{ soft.get('version', 'N/A') }}</p>
        
        {% if soft.get('notes') %}
        <p><strong>Notes:</strong> {{ soft.notes }}</p>
        {% endif %}
        
        <div class="software-meta">
            <span class="meta">Derni√®re v√©rification: {{ soft.get('last_verified', 'N/A') }}</span>
            {% if soft.get('verified_by') %}
            <span class="meta">V√©rifi√© par: {{ soft.verified_by|instructor_name }}</span>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<p>Aucun logiciel requis pour ce module. <a href="{{ url_for('view_verification') }}">Ajouter des logiciels</a></p>
{% endif %}


{% endblock %}
